@import "tailwindcss";

@theme {
	--font-sans: var(--font-pretendard);
}

@custom-variant dark (&:where(.dark, .dark *));

/* ============================================
  Design Tokens - 2025 Modern Blog System
============================================ */

:root {
	/* Brand Colors */
	--color-primary: 59 130 246; /* blue-500 */
	--color-primary-hover: 37 99 235; /* blue-600 */

	/* Light Theme Colors */
	--color-bg-primary: 255 255 255;
	--color-bg-secondary: 249 250 251; /* gray-50 */
	--color-bg-tertiary: 243 244 246; /* gray-100 */
	--color-bg-hover: 241 245 249; /* slate-50 */

	--color-text-primary: 15 23 42; /* slate-900 */
	--color-text-secondary: 71 85 105; /* slate-600 */
	--color-text-tertiary: 100 116 139; /* slate-500 */

	--color-border-primary: 226 232 240; /* slate-200 */
	--color-border-secondary: 241 245 249; /* slate-100 */

	--color-accent: 99 102 241; /* indigo-500 */
	--color-accent-hover: 79 70 229; /* indigo-600 */

	/* Code Syntax Highlighting - Light */
	--sh-class: #2d5e9d;
	--sh-identifier: #354150;
	--sh-sign: #8996a3;
	--sh-string: #007f7a;
	--sh-keyword: #e02518;
	--sh-comment: #a19595;
	--sh-jsxliterals: #6266d1;
	--sh-property: #e25a1c;
	--sh-entity: #e25a1c;

	/* Spacing Scale */
	--space-section: 6rem;
	--space-section-mobile: 3rem;

	/* Border Radius */
	--radius-sm: 0.5rem;
	--radius-md: 0.75rem;
	--radius-lg: 1rem;
	--radius-xl: 1.5rem;

	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

	/* Transitions */
	--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);

	/* Scrollbar */
	--scrollbar-width: 14px;
	--scrollbar-track: 226 232 240; /* slate-200 */
	--scrollbar-thumb: 148 163 184; /* slate-400 */
	--scrollbar-thumb-hover: 100 116 139; /* slate-500 */
}

html.dark {
	/* Dark Theme Colors */
	--color-bg-primary: 9 9 11; /* zinc-950 */
	--color-bg-secondary: 24 24 27; /* zinc-900 */
	--color-bg-tertiary: 39 39 42; /* zinc-800 */
	--color-bg-hover: 28 25 23; /* stone-900 */

	--color-text-primary: 250 250 250; /* zinc-50 */
	--color-text-secondary: 161 161 170; /* zinc-400 */
	--color-text-tertiary: 113 113 122; /* zinc-500 */

	--color-border-primary: 39 39 42; /* zinc-800 */
	--color-border-secondary: 24 24 27; /* zinc-900 */

	--color-accent: 129 140 248; /* indigo-400 */
	--color-accent-hover: 165 180 252; /* indigo-300 */

	/* Code Syntax Highlighting - Dark */
	--sh-class: #4c97f8;
	--sh-identifier: white;
	--sh-keyword: #f47067;
	--sh-string: #0fa295;

	/* Scrollbar - Dark */
	--scrollbar-track: 24 24 27; /* zinc-900 */
	--scrollbar-thumb: 82 82 91; /* zinc-600 */
	--scrollbar-thumb-hover: 113 113 122; /* zinc-500 */
}

::selection {
	background-color: rgb(var(--color-primary));
	color: rgb(var(--color-bg-primary));
}

html {
	min-width: 360px;
	background-color: rgb(var(--color-bg-primary));
	color: rgb(var(--color-text-primary));
	transition:
		background-color var(--transition-base),
		color var(--transition-base);
}

@media (prefers-color-scheme: dark) {
	html:not(.light) {
		color-scheme: dark;
	}
}

/* ============================================
   MDX Prose Styles - Modern Typography
   ============================================ */

.prose {
	@apply max-w-none;
}

.prose .anchor {
	@apply invisible absolute no-underline opacity-0 transition-opacity;
	margin-left: -1.25em;
	padding-right: 0.5em;
	width: 80%;
	max-width: 700px;
	cursor: pointer;
}

.prose *:hover > .anchor {
	@apply visible opacity-100;
}

.prose .anchor::after {
	content: "#";
	color: rgb(var(--color-text-tertiary));
	font-weight: 400;
}

.prose a {
	@apply font-medium text-[rgb(var(--color-accent))] no-underline transition-colors hover:text-[rgb(var(--color-accent-hover))];
	text-decoration: underline;
	text-decoration-color: rgb(var(--color-accent) / 0.3);
	text-decoration-thickness: 0.1em;
	text-underline-offset: 0.2em;
}

.prose a:hover {
	text-decoration-color: rgb(var(--color-accent) / 0.8);
}

.prose pre {
	@apply my-6 overflow-x-auto rounded-xl border px-4 py-4 text-sm leading-relaxed;
	background-color: rgb(var(--color-bg-secondary));
	border-color: rgb(var(--color-border-primary));
}

.prose code {
	@apply rounded-md px-1.5 py-0.5 font-mono text-sm;
	background-color: rgb(var(--color-bg-tertiary));
	color: rgb(var(--color-text-primary));
	font-weight: 500;
}

.prose pre code {
	@apply bg-transparent p-0;
	border: none;
	line-height: 1.7;
	font-weight: 400;
}

.prose code span {
	@apply font-medium;
}

.prose img {
	@apply my-8 rounded-xl;
}

.prose p {
	@apply my-6 leading-relaxed;
	color: rgb(var(--color-text-secondary));
	font-size: 1.0625rem;
	line-height: 1.75;
}

.prose h1 {
	@apply mt-12 mb-6 text-4xl font-bold tracking-tight sm:text-5xl;
	color: rgb(var(--color-text-primary));
	line-height: 1.2;
}

.prose h2 {
	@apply mt-12 mb-4 text-3xl font-bold tracking-tight;
	color: rgb(var(--color-text-primary));
	line-height: 1.3;
}

.prose h3 {
	@apply mt-10 mb-4 text-2xl font-semibold tracking-tight;
	color: rgb(var(--color-text-primary));
}

.prose h4 {
	@apply mt-8 mb-3 text-xl font-semibold tracking-tight;
	color: rgb(var(--color-text-primary));
}

.prose h5 {
	@apply mt-6 mb-2 text-lg font-semibold;
	color: rgb(var(--color-text-primary));
}

.prose h6 {
	@apply mt-6 mb-2 text-base font-semibold;
	color: rgb(var(--color-text-primary));
}

.prose strong {
	@apply font-semibold;
	color: rgb(var(--color-text-primary));
}

.prose em {
	@apply italic;
	color: rgb(var(--color-text-secondary));
}

.prose ul {
	@apply my-6 list-disc space-y-2 pl-6;
	color: rgb(var(--color-text-secondary));
}

.prose ol {
	@apply my-6 list-decimal space-y-2 pl-6;
	color: rgb(var(--color-text-secondary));
}

.prose li {
	@apply leading-relaxed;
}

.prose li::marker {
	color: rgb(var(--color-text-tertiary));
}

.prose blockquote {
	@apply my-6 border-l-4 pl-6 italic;
	border-color: rgb(var(--color-border-primary));
	color: rgb(var(--color-text-secondary));
}

.prose hr {
	@apply my-12 border-0 border-t;
	border-color: rgb(var(--color-border-primary));
}

.prose table {
	@apply my-6 w-full text-sm;
}

.prose thead {
	border-bottom: 2px solid rgb(var(--color-border-primary));
}

.prose th {
	@apply px-4 py-3 text-left font-semibold;
	color: rgb(var(--color-text-primary));
}

.prose td {
	@apply px-4 py-3;
	color: rgb(var(--color-text-secondary));
	border-top: 1px solid rgb(var(--color-border-secondary));
}

.prose > :first-child {
	margin-top: 0 !important;
}

.prose > :last-child {
	margin-bottom: 0 !important;
}

pre::-webkit-scrollbar {
	display: none;
}

pre {
	-ms-overflow-style: none; /* IE and Edge */
	scrollbar-width: none; /* Firefox */
}

/* Remove Safari input shadow on mobile */
input[type="text"],
input[type="email"] {
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

table {
	display: block;
	max-width: fit-content;
	overflow-x: auto;
	white-space: nowrap;
}

.title {
	text-wrap: balance;
}

/* TOC scroll offset */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
	scroll-margin-top: 120px;
}

/* ============================================
  Modern Scrollbar Styles - Minimal & Elegant
============================================ */

/* Webkit (Chrome, Safari, Edge, Opera) */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: rgba(148, 163, 184, 0.4);
	border-radius: 100px;
	transition: background-color 200ms ease;
}

::-webkit-scrollbar-thumb:hover {
	background-color: rgba(100, 116, 139, 0.7);
}

/* Dark mode scrollbar */
html.dark ::-webkit-scrollbar-thumb {
	background-color: rgba(113, 113, 122, 0.4);
}

html.dark ::-webkit-scrollbar-thumb:hover {
	background-color: rgba(161, 161, 170, 0.7);
}

/* Firefox */
* {
	scrollbar-width: thin;
	scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
}

html.dark * {
	scrollbar-color: rgba(113, 113, 122, 0.4) transparent;
}

/* 코드 블록 스크롤바는 더 얇고 미니멀하게 */
.prose pre::-webkit-scrollbar {
	height: 6px;
}

.prose pre::-webkit-scrollbar-thumb {
	background-color: rgba(148, 163, 184, 0.3);
	border-radius: 100px;
}

.prose pre::-webkit-scrollbar-thumb:hover {
	background-color: rgba(100, 116, 139, 0.6);
}

html.dark .prose pre::-webkit-scrollbar-thumb {
	background-color: rgba(113, 113, 122, 0.3);
}

html.dark .prose pre::-webkit-scrollbar-thumb:hover {
	background-color: rgba(161, 161, 170, 0.6);
}
